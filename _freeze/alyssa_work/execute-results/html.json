{
  "hash": "fe6c77ea2d8598231ff600f42923e64c",
  "result": {
    "markdown": "---\ntitle: \"Alyssa - Graphs\"\nformat: html\neditor: visual\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n:::\n\n\n## Dataset\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbreed_traits <- read_csv(\"data/breed_traits.csv\") %>%\n  select(-Breed)\ntrait_description <- read_csv(\"data/trait_description.csv\")\nbreed_rank_all <- read_csv(\"data/breed_rank.csv\")\n\nbreed_full <- cbind(breed_rank_all, breed_traits)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlollipop_data <- breed_full %>%\n  filter((`2020 Rank` > 0 & `2020 Rank` <= 10) | (`2020 Rank` > 185 & `2020 Rank` <= 195)) %>%\n  select(-`2013 Rank`, -`2014 Rank`, -`2015 Rank`, -`2016 Rank`, -`2017 Rank`, -`2018 Rank`, -`2019 Rank`) %>%\n  mutate(popularity = case_when(`2020 Rank` <= 10 ~ \"Popular\", \n                                `2020 Rank` >= 186 ~ \"Unpopular\")) %>%\n  select(-`2020 Rank`, -links, -Image, -`Coat Type`, -`Coat Length`) %>%\n  pivot_longer(is.numeric, names_to = \"Trait\", values_to = \"Score\") %>%\n  group_by(popularity, Trait) %>%\n  summarize(`Mean Score` = mean(Score), \n            `SD Score` = sd(Score), \n            `Median Score` = median(Score), \n            `Max Score` = max(Score), \n            `Min Score` = min(Score))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Use of bare predicate functions was deprecated in tidyselect 1.1.0.\nℹ Please use wrap predicates in `where()` instead.\n  # Was:\n  data %>% select(is.numeric)\n\n  # Now:\n  data %>% select(where(is.numeric))\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n`summarise()` has grouped output by 'popularity'. You can override using the\n`.groups` argument.\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(lollipop_data, mapping = aes(x = `Mean Score`, y = Trait, color = popularity)) +\n  geom_errorbarh(aes(xmin = 0, xmax = `Mean Score`),\n                   height = 0,\n                   position = position_dodge(width = .5)) +\n  geom_point(position = position_dodge(width = .5)) +\n  geom_errorbar(aes(xmin = (`Mean Score` - `SD Score`), xmax = (`Mean Score` + `SD Score`)),\n                position = position_dodge(width = .5)) \n```\n\n::: {.cell-output-display}\n![](alyssa_work_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncolors <- c(\"Unpopular\" = \"#E97451\", \"Popular\" = \"#8ABD91\")\n\nlollipop_data %>%\n  pivot_wider(names_from = popularity, values_from = contains(\"Score\")) %>%\n  ggplot(., mapping = aes(y = Trait)) +\n  geom_segment(aes(x = `Mean Score_Unpopular`, xend = `Mean Score_Popular`, y = Trait, yend = Trait), color = \"darkgrey\") +\n  geom_point(aes(x = `Mean Score_Unpopular`, y = Trait, color = \"Unpopular\")) +\n  geom_point(aes(x = `Mean Score_Popular`, y = Trait, color = \"Popular\")) +\n  scale_color_manual(values = colors) +\n  labs(title = \"Average Breed Trait Scores for Popular and Unpopular Dogs\", \n       subtitle = \"Based on 2020 Popularity Rankings\", \n       y = \"Breed Trait\",\n       x = \"Average Score\",\n       color = \"Popularity\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](alyssa_work_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n\n```{.r .cell-code}\nlollipop_data %>%\n  pivot_wider(names_from = popularity, values_from = contains(\"Score\")) %>%\n  ggplot(., mapping = aes(y = Trait)) +\n  geom_segment(aes(x = `Mean Score_Unpopular`, xend = `Mean Score_Popular`, y = Trait, yend = Trait), color = \"darkgrey\") +\n  geom_point(aes(x = `Mean Score_Unpopular`, y = Trait, color = \"Unpopular\")) +\n  geom_point(aes(x = `Mean Score_Popular`, y = Trait, color = \"Popular\")) +\n  labs(title = \"Average Breed Trait Scores for Popular and Unpopular Dogs\", \n       subtitle = \"Based on 2020 Popularity Rankings\", \n       y = \"Breed Trait\",\n       x = \"Average Score\",\n       color = \"Popularity\") +\n  theme_minimal() +\n  geom_errorbar(aes(xmin = (`Mean Score_Unpopular` - `SD Score_Unpopular`), xmax = (`Mean Score_Unpopular` + `SD Score_Unpopular`), color = \"Unpopular\"), alpha = 0.4) +\n  geom_errorbar(aes(xmin = (`Mean Score_Popular` - `SD Score_Popular`), xmax = (`Mean Score_Popular` + `SD Score_Popular`), color = \"Popular\"), alpha = 0.4) +\n  scale_color_manual(values = colors)\n```\n\n::: {.cell-output-display}\n![](alyssa_work_files/figure-html/unnamed-chunk-5-2.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlollipop_data %>%\n  pivot_wider(names_from = popularity, values_from = contains(\"Score\")) %>%\n  mutate(score_diff = `Mean Score_Popular` - `Mean Score_Unpopular`) %>%\n  select(Trait, score_diff) %>%\n  arrange(desc(score_diff))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 14 × 2\n   Trait                      score_diff\n   <chr>                           <dbl>\n 1 Trainability Level              1.3  \n 2 Playfulness Level               1    \n 3 Openness To Strangers           0.900\n 4 Drooling Level                  0.7  \n 5 Watchdog/Protective Nature      0.7  \n 6 Adaptability Level              0.7  \n 7 Mental Stimulation Needs        0.7  \n 8 Affectionate With Family        0.600\n 9 Coat Grooming Frequency         0.4  \n10 Good With Young Children        0.200\n11 Shedding Level                  0.200\n12 Energy Level                    0    \n13 Good With Other Dogs           -0.100\n14 Barking Level                  -1.1  \n```\n:::\n\n```{.r .cell-code}\nlollipop_data %>%\n  pivot_wider(names_from = popularity, values_from = contains(\"Score\")) %>%\n  mutate(Trait = factor(Trait, levels = c(\"Trainability Level\", \"Playfulness Level\", \"Openness To Strangers\", \"Drooling Level\", \"Watchdog/Protective Nature\", \"Adaptability Level\", \"Mental Stimulation Needs\", \"Affectionate With Family\", \"Coat Grooming Frequency\", \"Good With Young Children\", \"Shedding Level\", \"Energy Level\", \"Good With Other Dogs\", \"Barking Level\")), \n         Trait = fct_rev(Trait)) %>%\n  ggplot(., mapping = aes(y = Trait)) +\n  geom_segment(aes(x = `Mean Score_Unpopular`, xend = `Mean Score_Popular`, y = Trait, yend = Trait), color = \"darkgrey\") +\n  geom_point(aes(x = `Mean Score_Unpopular`, y = Trait, color = \"Unpopular\")) +\n  geom_point(aes(x = `Mean Score_Popular`, y = Trait, color = \"Popular\")) +\n  scale_color_manual(values = colors) +\n  labs(title = \"Average Breed Trait Scores for Popular and Unpopular Dogs\", \n       subtitle = \"Based on 2020 Popularity Rankings\", \n       y = \"Breed Trait\",\n       x = \"Average Score\",\n       color = \"Popularity\") +\n  scale_x_continuous(limits = c(1, 5), breaks = c(1, 2, 3, 4, 5)) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](alyssa_work_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "alyssa_work_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}